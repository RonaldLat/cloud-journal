(self.webpackChunklite=self.webpackChunklite||[]).push([[3890],{23890:(e,t,n)=>{"use strict";n.d(t,{gc:()=>Tt,De:()=>Bt,m6:()=>jt});var r=n(28655),o=n.n(r),i=n(67154),s=n.n(i),a=n(63038),l=n.n(a),c=n(71439),u=n(58875),p=n.n(u),d=n(67294),m=n.n(d),f=n(70561),g=n(28859),h=n(98042),v=n(45113),b=n(26839),E=n(91964),y=n(46387),S=n(54454),P=n(28322),x=n(94132),I=n(26463),w=n(62872),O=n(4995),R=n(86987),_=n(46829),k=n(9785);function T(){var e=o()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return T=function(){return e},e}function L(){var e=o()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return L=function(){return e},e}var B=(0,c.Ps)(L()),j=(0,c.Ps)(T()),C=n(47578),A=n(12390),D=n(52078),V=n(4442),M=n(47921),N=n(53099),U=n(49925),F=n(66893),H=n(59877),Z=n(28309),z=n(534);function Q(){var e=o()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      colorPalette {\n        ...customDefaultBackgroundTheme_colorPalette\n      }\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...customDefaultBackgroundTheme_customStyleSheet\n      ...customStyleSheetFontTheme_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Q=function(){return e},e}var G,W=function(e){var t=e.children,n=e.post,r=(0,U.GT)(n.collection||n.creator),o=!!(0,F.P5)("enable_sohne"),i=!!(0,F.P5)("enable_unbound"),s=(0,Z.Fg)();if(r){var a,l=(0,z.ZI)(n.customStyleSheet,(0,z.zI)(n.customStyleSheet,s,null===(a=n.collection)||void 0===a?void 0:a.colorPalette),o||i);return d.createElement(Z.f6,{theme:l},t)}var c,u=(0,z.zI)(null,s,null===(c=n.collection)||void 0===c?void 0:c.colorPalette);return d.createElement(Z.f6,{theme:u},d.createElement(H.r,null,t))},Y=(0,c.Ps)(Q(),U.C5,z.L9,z.Ui,z.VE),q=n(62182),J=n(86156),X=n(50493),$=n(15789),K=n(9482),ee=n(62543),te=n(50188),ne=n(39297),re=n(45473),oe=n(33698),ie=n(59713),se=n.n(ie),ae=n(2074),le=n(73185),ce=n(14267),ue=n(72913),pe=n(20860),de=n(24087),me=n(22091),fe=n(27572),ge=n(14391);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(e){e[e.LEGACY=1]="LEGACY",e[e.STORY=2]="STORY",e[e.SIMPLE=3]="SIMPLE"}(G||(G={}));var ve=function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundColor:e?n.highlightColor.light:void 0,padding:"0 24px"},function(e,t,n){return e&&!t?{borderLeft:"3px solid ".concat(n.accentColor.border.normal),marginLeft:"-3px"}:{}}(e,t,n))},be=function(e){return{marginBottom:"24px",marginLeft:"24px",borderLeft:"3px solid ".concat(e.baseColor.border.lighter)}},Ee=function e(t){var n=t.replies,r=t.parentPost,o=t.rootLevel,i=void 0===o||o,s=(0,Z.Iq)(),a=(0,Z.Fg)();return d.createElement(de.Z,null,(function(t){return d.createElement(me.xu,null,null==n?void 0:n.map((function(o,l){if(!o)return null;var c=t&&t.id&&t.id===(o.creator&&o.creator.id),u=l!==n.length-1&&i;return d.createElement(me.Bn,{key:o.id},(function(t){var n,p=t.isVisible,m=t.toggle;return d.createElement(me.xu,{borderBottom:u?"BASE_LIGHTER":"NONE"},d.createElement("div",{className:s(ve(c,i,a))},function(e){switch(e.inResponseToType){case G.LEGACY:return e.content.bodyModel.paragraphs.every((function(e){return e.type===ge.NJ.P&&0===e.markups.length}));case G.STORY:return!1;default:return!0}}(o)?d.createElement(ue.b,{responsePost:o,index:l,parentPost:r,omitBottomBorder:!0,toggleThreadedResponses:m,isThreadedResponsesVisible:p}):d.createElement(fe.cW,{source:{index:l},key:o.id,extendSource:!0},d.createElement(pe.H,{storyResponse:o,parentPost:r,omitBottomBorder:!0}))),(null===(n=o.prototypeNestedResponses)||void 0===n?void 0:n.length)>0&&p&&d.createElement("div",{className:s(be(a))},d.createElement(e,{replies:o.prototypeNestedResponses,parentPost:r,rootLevel:!1})))}))})))}))},ye=n(68356),Se=n.n(ye),Pe=n(19537),xe=n(79853),Ie=n(90320);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Oe,Re={delay:1e3,timeout:2e4,loading:function(e){return e.error?d.createElement(xe.Z,{error:e.error}):e.timedOut?d.createElement(xe.Z,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?d.createElement(Ie.Z,null):null}},_e=Se()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Re,{loader:function(){return n.e(6635).then(n.bind(n,51245))},modules:["src/components/responses/editor/ThreadedInlineResponseEditor"],webpack:function(){return[51245]},render:function(e,t){var n=e.ThreadedInlineResponseEditor;return d.createElement(n,t)}})),ke=function(e){var t=e.parentPostId,n=e.responseId,r=e.type,o=void 0===r?Pe.H.create:r,i=e.initialValue;return d.createElement(_e,{parentPostId:t,responseId:n,type:o,initialValue:i})},Te=n(43238),Le=n(1036),Be=n(32262),je=n(79316),Ce=n(3149),Ae=n(80735),De=n(80087);!function(e){e.Recommended="Recommended",e.Oldest="Oldest",e.Newest="Newest"}(Oe||(Oe={}));var Ve=[Oe.Recommended,Oe.Newest,Oe.Oldest],Me={height:"80vh",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontWeight:200},Ne=function(e){var t=e.responses,n=e.parentPost,r=e.responsesLocked,o=e.isLockedResponse,i=e.isLoadingInitialContent,s=e.isResponsesSidebarVisible,a=e.setIsResponsesSidebarVisible,c=e.inResponseToQuote,u=e.setInResponseToQuote,p=(0,Z.Iq)(),m=d.useState(Oe.Recommended),f=l()(m,2),g=f[0],h=f[1],v=d.useState(!1),b=l()(v,2),E=b[0],y=b[1],S=d.useState([]),P=l()(S,2),x=P[0],I=P[1],w=n.id,O=t&&0!==t.length?"(".concat(t.length,")"):"",R=t;return d.createElement(ce.D.Provider,{value:{setIsSavingResponse:y,responsesLocked:r,isLockedResponse:o,editingResponsesAtIndices:x,setEditingResponsesAtIndices:I,inResponseToQuote:c,setInResponseToQuote:u}},s&&E&&d.createElement(je.TF,{horizontalOverride:{left:"calc(100vw - ".concat(oe.ZR,")")}}),d.createElement(je.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"24px",paddingBottom:"18px"},d.createElement(Ae.X6,{scale:"S"},"Responses ",O),d.createElement(je.xu,{display:"flex",flexDirection:"row"},d.createElement(Te.c,{parentPost:n,responsesLocked:r}),d.createElement(je.xu,{position:"relative",right:"-7px"},d.createElement(Ce.Z,{onClick:function(){return a(!1)},size:"REGULAR",isPositionAbsolute:!1})))),i?d.createElement(je.xu,{padding:"0 24px"},d.createElement(le.j,null)):d.createElement(d.Fragment,null,d.createElement(ke,{parentPostId:w}),d.createElement(Le.Z,{name:"enable_responses_sortby"},d.createElement(je.Bn,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return d.createElement(je.xu,{backgroundColor:"BASE_LIGHT",padding:"10px 24px"},d.createElement(je.J2,{isVisible:t,hide:r,customZIndex:530,popoverRenderFn:function(){return d.createElement(Be.mX,null,Ve.map((function(e){return d.createElement(Be.Sl,null,d.createElement(je.rU,{linkStyle:"SUBTLE",onClick:function(){!function(e){h(e)}(e),r()}},e))})))}},d.createElement(je.rU,{onClick:n},g,d.createElement(De.Z,{className:p({margin:"0px 5px"})}))))}))),t&&0!==(null==R?void 0:R.length)?d.createElement(Ee,{replies:t,parentPost:n}):d.createElement("div",{className:p(Me)},d.createElement(Ae.F,{scale:"L",color:"LIGHTER"},"There are currently no responses for this story."),d.createElement(Ae.F,{scale:"L",color:"LIGHTER"},"Be the first to respond."))))},Ue=n(89714),Fe=n(80637),He=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s",pointerEvents:"none"}},Ze=function(e){return se()({width:"414px",position:"fixed",zIndex:520,backgroundColor:"white",left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},(0,Fe.sm)(e),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:"translateY(100%)","-webkit-overflow-scrolling":"touch"})},ze=function(e,t){return function(n){if(e){var r=n.breakpoints.md-.02;return t<=r?{transform:"translateY(30px) !important"}:{transform:"translateX(-415px)"}}return{}}},Qe=function(e){return e?{opacity:1,pointerEvents:"all"}:{}},Ge=function(e){var t,n,r,o=e.setIsResponsesSidebarVisible,i=e.isResponsesSidebarVisible,s=e.inResponseToQuote,a=e.setInResponseToQuote,c=e.parentPost,u=(0,Ue.Uo)().baseTheme,p=(0,Z.Iq)(),m=(0,_.useQuery)(ae.M,{variables:{postId:c.id},ssr:!1}),f=m.loading,g=m.data,h=null==g||null===(t=g.post)||void 0===t?void 0:t.responsesLocked,v=null==g||null===(n=g.post)||void 0===n?void 0:n.isLockedResponse,b=null==g||null===(r=g.post)||void 0===r?void 0:r.prototypeNestedResponses,E=d.useState(0),y=l()(E,2),S=y[0],P=y[1],x=d.useState(!1),I=l()(x,1)[0];return d.useEffect((function(){S||P(window.innerWidth)}),[]),d.createElement(je.f6,{theme:u},d.createElement(fe.cW,{source:{name:"responses",postId:c.id},extendSource:!0},d.createElement(je.xu,{print:{display:"none"}},d.createElement("div",{className:p([He,Qe(i)]),onClick:function(){o(!1)},"aria-hidden":!i}),d.createElement("div",{className:p([Ze,ze(i,S)]),"aria-hidden":!i},d.createElement(Ne,{responses:b,parentPost:c,responsesLocked:h,isLockedResponse:v,isLoadingInitialContent:f,isFetchingNextSetOfResponses:I,isResponsesSidebarVisible:i,setIsResponsesSidebarVisible:o,inResponseToQuote:s,setInResponseToQuote:a})))))},We=n(88914),Ye=n(67122);function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Je=m().createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),Xe=m().createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),$e=m().createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),Ke=m().createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const et=function(e){return m().createElement("svg",qe({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),Je,Xe,$e,Ke)};var tt=(0,f.$j)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide;return d.createElement(je.Vq,{isVisible:n,hide:r,withCloseButton:!1,withTransparentOverlay:!0},d.createElement(je.xu,{display:"flex",justifyContent:"center",paddingTop:"100px"},d.createElement(je.xu,{display:"flex",flexDirection:"column",justifyContent:"center",position:"relative",textAlign:"center",background:Ye.ix,boxShadow:"0 2px 10px ".concat((0,Ye.Uy)(.15)),borderRadius:"4px",height:"550px",width:"900px",paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},d.createElement(je.xu,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},d.createElement(je.xu,{paddingBottom:"24px"},d.createElement(et,null)),d.createElement(je.xu,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},d.createElement(Ae.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),d.createElement(je.xu,{padding:"0 0 24px 0"},d.createElement(je.zx,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t((0,We.Dx)({duration:"FOREVER",message:"",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),d.createElement(je.Bn,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return d.createElement(je.J2,{isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return d.createElement(je.xu,{padding:"15px 20px",width:"400px"},d.createElement(Ae.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},d.createElement(je.xu,{paddingTop:"10px"},d.createElement(je.rU,{onClick:n},d.createElement("u",null,d.createElement(Ae.F,{scale:"S"},"Why am I seeing this?")))))})))),d.createElement(je.xu,{display:"flex",justifyContent:"center"},d.createElement(Ae.F,{scale:"M"},"View our"," ",d.createElement(je.rU,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",d.createElement(je.rU,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",d.createElement(je.rU,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))}));function nt(){var e=o()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return nt=function(){return e},e}var rt=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function ot(e){var t=e.post,n=t.creator,r=t.isLimitedState,o=e.viewerId,i=e.children,s=(0,Z.Iq)(),a=d.useState(!1),c=l()(a,2),u=c[0],p=c[1];return d.useEffect((function(){p(!0)}),[]),r&&(n&&n.id)!==o?d.createElement(je.Bn,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return d.createElement(d.Fragment,null,d.createElement("div",{className:s(rt(t))},i),u&&d.createElement(tt,{isVisible:t,hide:n}))})):i}var it=(0,c.Ps)(nt()),st=n(85714),at=n(10886),lt=n(94937),ct=n(82602),ut=n(62630),pt=n(36808),dt=n(33572),mt=n(11348),ft=n(89929),gt=n(28958),ht=n(68254),vt=n.n(ht);function bt(e){var t={__html:'<script type="application/json">'.concat(vt()(e.json,{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const St=(0,f.$j)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r={triggers:yt({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}},{},n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{})},o={__html:'<script type="application/json">'.concat(vt()(r,{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:o})}));function Pt(){var e={__html:'<script type="application/json">'.concat(vt()({vars:{apikey:"medium.com"}},{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{type:"parsely",id:"parsely-amp-analytics",dangerouslySetInnerHTML:e})}var xt=n(61244),It=n(27140),wt=n(77455),Ot=n(65441),Rt=n(27952);function _t(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserDomainFlow_user\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...InteractivePostBody_customStyleSheet\n      ...MetaHeader_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...PayWall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...RegWall_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _t=function(){return e},e}function kt(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...RegWall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return kt=function(){return e},e}function Tt(e){var t,n=e.meteringInfo,r=e.post,o=e.viewer,i=r.id,s=r.isPublished,a=r.isLocked,c=r.isShortform,u=r.content,m=r.collection,b=r.canonicalUrl,I=(0,f.I0)(),w=(0,ut.Av)(),T=(0,f.v9)((function(e){return{authDomain:e.config.authDomain,isAmp:e.config.isAmp,isBot:e.client.isBot,inAppBrowser:e.client.inAppBrowserName,currentHash:e.navigation.currentHash,postPublishedType:e.navigation.postPublishedType,referrer:e.navigation.referrer,referrerSource:e.navigation.referrerSource,responsesOpen:e.navigation.responsesOpen,sessionUserId:e.session.user.id}}),f.wU),L=T.authDomain,B=T.currentHash,H=T.isAmp,Z=T.isBot,z=T.inAppBrowser,Q=T.postPublishedType,G=T.referrer,Y=T.referrerSource,X=T.responsesOpen,ne=T.sessionUserId,re=d.useState(!1),ie=l()(re,2),se=ie[0],ae=ie[1],le=d.useState(r.readingList===ge.sx.READING_LIST_QUEUE||r.readingList===ge.sx.READING_LIST_ARCHIVE),ce=l()(le,2),ue=ce[0],pe=ce[1],de=d.useRef(null),me=!!o,fe=m||{},he=fe.id,ve=fe.slug,be=fe.googleAnalyticsId,Ee=u||{},ye=Ee.isLockedPreviewOnly,Se=Ee.validatedShareKey,Pe=be?[be]:null;(0,P.t)(Pe,Z,H),(0,pt.Vj)(de,r),(0,pt.t2)(!!me,de,r),function(e){var t=(0,k.YC)().value,n=(0,_.useMutation)(j,{variables:{postId:e.id}}),r=l()(n,2),o=r[0],i=r[1].called;d.useEffect((function(){e.isPublished||!(null==t?void 0:t.id)||i||o()}),[t])}(r);var xe=(0,U.GT)(m||r.creator),Ie=c&&xe,we=(0,It.D)(xe),Oe=(0,xt.k)(),Re=Boolean((0,F.P5)("enable_lite_threaded_responses")),_e=Oe&&X,ke=d.useState(Boolean(_e)),Te=l()(ke,2),Be=Te[0],je=Te[1],Ce=d.useState(void 0),Ae=l()(Ce,2),De=Ae[0],Ve=Ae[1],Me=d.useState(!1),Ne=l()(Me,2),Ue=Ne[0],Fe=Ne[1];Ue||pt.V6.on("load",(function(){return Fe(!0)}));var He=(0,D.Dj)(r);d.useEffect((function(){if(s){me||(r.isLocked?(0,mt.yB)():(0,mt.B8)());var e=(0,v.RD)({inAppBrowser:z,post:r,meteringInfo:n,referrer:G,referrerSource:Y,viewer:o,currentUserId:ne});m&&m.domain&&(e.data.$canonical_url=(0,Rt.o2)(L,r.id));var t=o&&o.name?(0,dt.J)(o.name):void 0;(0,C.KQ)({post:r},t),(0,v.Pu)(e),I((0,gt.aj)(e)),I((0,gt.QZ)()),w.event("post.clientViewed",{postId:i,collectionId:he,collectionSlug:ve,context:1,isFriendLink:!!Se})}else w.event("post.draftViewed",{postId:i});switch(me||(0,te.kD)(i),Q){case"initial":ae(!0),I((0,We.DJ)());break;case"repub":I((0,We.Dx)({duration:3e3,message:"Your changes have been published."})),I((0,We.DJ)())}return function(){I((0,gt.Uo)())}}),[i,s]);var Ze=(0,wt.K)();if(p().canUseDOM&&Ze.get("readmore")){var ze=document.getElementById(Ot.W);if(ze){var Qe,Ye=window.matchMedia&&(null===(Qe=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===Qe?void 0:Qe.matches);setTimeout((function(){var e=Math.max(ze.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:Ye?void 0:"smooth"})}))}}we!==xe&&I((0,ft.t)(xe));var qe,Je,Xe,$e=ye&&(me?d.createElement(O.F,{post:r}):d.createElement(R.Mt,{post:r,meteringInfo:n})),Ke=a?{className:"meteredContent"}:{};if(B){var et=B.split("-");qe=et[0],Je=et[1]}return d.createElement(d.Fragment,null,d.createElement(h.uV,null),d.createElement(A.P,{post:r},d.createElement(M.Z,{isAmp:H,post:r}),(null==o?void 0:o.id)===(null===(t=r.creator)||void 0===t?void 0:t.id)?d.createElement(st.ZP,{post:r,user:r.creator}):d.createElement(Le.Z,{name:"can_view_suspended_content"},d.createElement(st.ZP,{post:r,user:r.creator})),d.createElement(W,{post:r},d.createElement(E.f,{customStyleSheet:r.customStyleSheet},d.createElement(Lt,{post:r}),Oe&&Ue?Re?d.createElement(Ge,{inResponseToQuote:De,isResponsesSidebarVisible:Be,parentPost:r,setInResponseToQuote:Ve,setIsResponsesSidebarVisible:je}):d.createElement(oe.FP,{isResponsesSidebarVisible:Be,setIsResponsesSidebarVisible:je,inResponseToQuote:De,parentPost:r,setInResponseToQuote:Ve}):null,d.createElement(y.x,{rule:(Xe=r.customStyleSheet,(0,S.fl)(null==Xe?void 0:Xe.postBody))},d.createElement(g.Am,null,d.createElement(K.Q.Provider,{value:{isFirstLoadAndInReadingList:ue,setIsFirstLoadAndInReadingList:pe}},d.createElement(at.Q,null),d.createElement(lt.b,null),d.createElement("article",Ke,d.createElement(V.mV,{post:r,meteringInfo:n}),d.createElement(J.f.Provider,{value:{openSidebarToRespondToHighlight:function(e){Ve(e),je(!0)}}},d.createElement(ot,{post:r,viewerId:null==o?void 0:o.id},d.createElement($.ZP,{activeGrafId:qe,activeNoteId:Je,isAuroraPostPageEnabled:xe,post:r,postBodyInserts:He,customStyleSheet:r.customStyleSheet,ref:de})))),!ye&&!!s&&!Ie&&d.createElement(q.p3,{post:r,setIsResponsesSidebarVisible:je}),$e,!ye&&d.createElement(ee.ZP,{post:r,setIsResponsesSidebarVisible:je})))),d.createElement(N.yx,{hide:function(){return ae(!1)},isVisible:se,post:r}),!!s&&d.createElement(x.T,{slimFooter:xe}))),H&&d.createElement(d.Fragment,null,d.createElement(bt,{json:{requests:{base:(0,Rt.vu)(L),pageview:(0,Rt.CX)(L),scrollPing:(0,Rt.y4)(L)},vars:{postId:i,collectionId:he,canonicalUrl:b,referrer:G},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}),d.createElement(St,{collectionGoogleAnalyticsId:be}),d.createElement(Pt,null))),!!r.creator&&!r.collection&&d.createElement(ct.u,{user:r.creator,refreshOnComplete:!0}))}var Lt=function(e){var t,n,r=e.post,o=r.collection,i=o||r.creator,a=(0,U.GT)(i),l=(0,F.P5)("enable_post_page_nav_stickiness_removal"),c=!!(0,F.P5)("enable_aurora_sticky_nav"),u=(0,f.v9)((function(e){return e.config.isAmp}));if(i&&a)return d.createElement(me.xu,{marginBottom:"36px",sm:{marginBottom:"20px"}},d.createElement(ne.Go,{publisher:i,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),c&&d.createElement(re.YX,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:i}));var p={behavior:w.W.Aggressive,isAmp:u,isFixed:!l,post:r};if(o)return d.createElement(b.NL,s()({},p,{collection:o}));var m=r.layerCake,g=r.primaryTopic,h=m&&(1===m||2===m||3===m),v=h?g:null;return d.createElement(I.kw,s()({},p,{isMonogramOnly:!h,marginBottom:0,marginBottomSm:0,topic:v}))},Bt=(0,c.Ps)(kt(),V.Xc,R.VP,v.PI),jt=(0,c.Ps)(_t(),B,b.JE,E.w,$.Uw,$.X4,it,A.h,I.v7,ne.aU,ne.Mv,O.P,D.Cs,ee.F9,V.Z3,M.i,N.KR,pt.WZ,Y,pt.kH,q.uI,R.E7,S._3,st.QX,st.v,ct.S,U.C5,v.ir,C.ne,X.t)}}]);
//# sourceMappingURL=3890.487ed130.chunk.js.map